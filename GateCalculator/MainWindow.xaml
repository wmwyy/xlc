<Window x:Class="GateCalculator.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="闸孔净宽计算器" Height="720" Width="1000" WindowStartupLocation="CenterScreen">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <DockPanel Margin="12">
            <TextBlock DockPanel.Dock="Top" FontSize="20" FontWeight="Bold" Margin="0 0 0 12">闸孔净宽计算（A.0.1~A.0.3）</TextBlock>
            <TabControl>
                <TabItem Header="平底闸门 A.0.1">
                    <DockPanel Margin="12">
                        <StackPanel DockPanel.Dock="Top" Margin="0 0 0 8">
                            <StackPanel Orientation="Horizontal" Margin="0 0 0 4">
                                <Button Content="填充示例" Width="90" Margin="0 0 8 0" Click="OnFillA01Sample" />
                                <TextBlock VerticalAlignment="Center" Text="示例：Q=120, H0=8, H=10, h1=5, b0=3, b1=3.5, N=1, m=0.885, g=9.81" />
                            </StackPanel>
                            <TextBlock FontFamily="Consolas" FontSize="12" TextWrapping="Wrap" xml:space="preserve" Text="  水面&#x0a;  |&lt;--H0--&gt;|    (示意)&#x0a;  |--------| he&#x0a;  |--hc--|&#x0a;  |&lt;----H----&gt;|&#x0a;  基床" />
                        </StackPanel>
                        <Grid Margin="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="320" />
                            </Grid.ColumnDefinitions>
                            <Grid Grid.Column="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="180" />
                            <ColumnDefinition Width="200" />
                            <ColumnDefinition Width="180" />
                            <ColumnDefinition Width="200" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" VerticalAlignment="Center">Q (过闸流量 m³/s)</TextBlock>
                        <TextBox x:Name="A01Q" Grid.Row="0" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="1" Grid.Column="0" VerticalAlignment="Center">H0 (堰上水深 m)</TextBlock>
                        <TextBox x:Name="A01H0" Grid.Row="1" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="2" Grid.Column="0" VerticalAlignment="Center">H (闸前水深 m)</TextBlock>
                        <TextBox x:Name="A01H" Grid.Row="2" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="3" Grid.Column="0" VerticalAlignment="Center">h1 (闸堰埋没深 m)</TextBlock>
                        <TextBox x:Name="A01h1" Grid.Row="3" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="4" Grid.Column="0" VerticalAlignment="Center">b0 (单孔净宽 m)</TextBlock>
                        <TextBox x:Name="A01b0" Grid.Row="4" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="5" Grid.Column="0" VerticalAlignment="Center">b1 (上游半水深宽度 m)</TextBlock>
                        <TextBox x:Name="A01b1" Grid.Row="5" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="6" Grid.Column="0" VerticalAlignment="Center">N (孔数)</TextBlock>
                        <TextBox x:Name="A01N" Grid.Row="6" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="7" Grid.Column="0" VerticalAlignment="Center">d_c (中间墩厚 m)</TextBlock>
                        <TextBox x:Name="A01dc" Grid.Row="7" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="8" Grid.Column="0" VerticalAlignment="Center">d_b (边墩厚 m)</TextBlock>
                        <TextBox x:Name="A01db" Grid.Row="8" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="9" Grid.Column="0" VerticalAlignment="Center">m (堰流系数，默认0.885)</TextBlock>
                        <TextBox x:Name="A01m" Grid.Row="9" Grid.Column="1" Margin="4" Text="0.885" />

                        <TextBlock Grid.Row="10" Grid.Column="0" VerticalAlignment="Center">g (重力加速度，默认9.81)</TextBlock>
                        <TextBox x:Name="A01g" Grid.Row="10" Grid.Column="1" Margin="4" Text="9.81" />

                        <CheckBox x:Name="A01Single" Grid.Row="11" Grid.Column="0" Content="单孔计算" IsChecked="True" Margin="4" />
                        <Button Grid.Row="11" Grid.Column="1" Content="计算" Margin="4" Click="OnCalcA01" />
                        <TextBlock Grid.Row="12" Grid.Column="0" Grid.ColumnSpan="4" Margin="4" TextWrapping="Wrap" x:Name="A01Result" />
                    </Grid>
                            <Border Grid.Column="1" Margin="12 0 0 0" BorderThickness="1" BorderBrush="#DDD" Padding="6">
                                <StackPanel>
                                    <TextBlock Text="A.0.1 计算简图" FontWeight="SemiBold" Margin="0 0 0 4" />
                                    <Image x:Name="A01Img" Stretch="Uniform" MaxHeight="260" RenderTransformOrigin="0.5,0.5">
                                        <Image.RenderTransform>
                                            <ScaleTransform x:Name="A01ScaleTransform" ScaleX="1" ScaleY="1" />
                                        </Image.RenderTransform>
                                    </Image>
                                    <StackPanel Orientation="Horizontal" Margin="0 6 0 0" VerticalAlignment="Center">
                                        <TextBlock Text="缩放" Margin="0 0 6 0" VerticalAlignment="Center" />
                                        <Slider x:Name="A01ScaleSlider" Minimum="0.5" Maximum="2" Value="1" Width="120" ValueChanged="OnScaleChanged" Tag="A01" />
                                    </StackPanel>
                                    <TextBlock FontSize="12" Foreground="#666" TextWrapping="Wrap" Margin="0 4 0 0" Text="若未显示，请确认 Assets/A01.png 绝对路径存在" />
                                </StackPanel>
                            </Border>
                        </Grid>
                    </DockPanel>
                </TabItem>

                <TabItem Header="高底闸门 A.0.2">
                    <DockPanel Margin="12">
                        <StackPanel DockPanel.Dock="Top" Margin="0 0 0 8">
                            <StackPanel Orientation="Horizontal" Margin="0 0 0 4">
                                <Button Content="填充示例" Width="90" Margin="0 0 8 0" Click="OnFillA02Sample" />
                                <TextBlock VerticalAlignment="Center" Text="示例：Q=150, H0=8, h0=2, hs=5, σ=0.82, g=9.81" />
                            </StackPanel>
                        </StackPanel>
                        <Grid Margin="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="320" />
                            </Grid.ColumnDefinitions>
                            <Grid Grid.Column="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="180" />
                            <ColumnDefinition Width="200" />
                            <ColumnDefinition Width="180" />
                            <ColumnDefinition Width="200" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" VerticalAlignment="Center">Q (过闸流量 m³/s)</TextBlock>
                        <TextBox x:Name="A02Q" Grid.Row="0" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="1" Grid.Column="0" VerticalAlignment="Center">H0 (堰上水深 m)</TextBlock>
                        <TextBox x:Name="A02H0" Grid.Row="1" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="2" Grid.Column="0" VerticalAlignment="Center">h0 (底槛高程 m)</TextBlock>
                        <TextBox x:Name="A02h0" Grid.Row="2" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="3" Grid.Column="0" VerticalAlignment="Center">h_s (下游水深 m)</TextBlock>
                        <TextBox x:Name="A02hs" Grid.Row="3" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="4" Grid.Column="0" VerticalAlignment="Center">σ (流态系数，可选)</TextBlock>
                        <TextBox x:Name="A02sigma" Grid.Row="4" Grid.Column="1" Margin="4" Text="1.0" />

                        <TextBlock Grid.Row="5" Grid.Column="0" VerticalAlignment="Center">g (重力加速度，默认9.81)</TextBlock>
                        <TextBox x:Name="A02g" Grid.Row="5" Grid.Column="1" Margin="4" Text="9.81" />
                        <Button Grid.Row="6" Grid.Column="1" Content="计算" Margin="4" Click="OnCalcA02" />
                        <TextBlock Grid.Row="6" Grid.Column="2" Grid.ColumnSpan="2" Margin="4" TextWrapping="Wrap" x:Name="A02Result" />
                    </Grid>
                            <Border Grid.Column="1" Margin="12 0 0 0" BorderThickness="1" BorderBrush="#DDD" Padding="6">
                                <StackPanel>
                                    <TextBlock Text="A.0.2 计算简图" FontWeight="SemiBold" Margin="0 0 0 4" />
                                    <Image x:Name="A02Img" Stretch="Uniform" MaxHeight="260" RenderTransformOrigin="0.5,0.5">
                                        <Image.RenderTransform>
                                            <ScaleTransform x:Name="A02ScaleTransform" ScaleX="1" ScaleY="1" />
                                        </Image.RenderTransform>
                                    </Image>
                                    <StackPanel Orientation="Horizontal" Margin="0 6 0 0" VerticalAlignment="Center">
                                        <TextBlock Text="缩放" Margin="0 0 6 0" VerticalAlignment="Center" />
                                        <Slider x:Name="A02ScaleSlider" Minimum="0.5" Maximum="2" Value="1" Width="120" ValueChanged="OnScaleChanged" Tag="A02" />
                                    </StackPanel>
                                    <TextBlock FontSize="12" Foreground="#666" TextWrapping="Wrap" Margin="0 4 0 0" Text="若未显示，请确认 Assets/A02.png 绝对路径存在" />
                                </StackPanel>
                            </Border>
                        </Grid>
                    </DockPanel>
                </TabItem>

                <TabItem Header="潜没闸门 A.0.3">
                    <DockPanel Margin="12">
                        <StackPanel DockPanel.Dock="Top" Margin="0 0 0 8">
                            <StackPanel Orientation="Horizontal" Margin="0 0 0 4">
                                <Button Content="填充示例" Width="90" Margin="0 0 8 0" Click="OnFillA03Sample" />
                                <TextBlock VerticalAlignment="Center" Text="示例：Q=180, H0=9, H=10, he=4, hc=1.5, εc=0.2, φ=0.96, g=9.81" />
                            </StackPanel>
                            <TextBlock FontFamily="Consolas" FontSize="12" TextWrapping="Wrap" xml:space="preserve" Text="  水面&#x0a;  |&lt;--H0--&gt;|    (示意)&#x0a;  |--------| he&#x0a;  |--hc--|&#x0a;  |&lt;----H----&gt;|&#x0a;  基床" />
                        </StackPanel>
                        <Grid Margin="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="320" />
                            </Grid.ColumnDefinitions>
                            <Grid Grid.Column="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="180" />
                            <ColumnDefinition Width="200" />
                            <ColumnDefinition Width="180" />
                            <ColumnDefinition Width="200" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" VerticalAlignment="Center">Q (过闸流量 m³/s)</TextBlock>
                        <TextBox x:Name="A03Q" Grid.Row="0" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="1" Grid.Column="0" VerticalAlignment="Center">H0 (堰上水深 m)</TextBlock>
                        <TextBox x:Name="A03H0" Grid.Row="1" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="2" Grid.Column="0" VerticalAlignment="Center">H (闸前水深 m)</TextBlock>
                        <TextBox x:Name="A03H" Grid.Row="2" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="3" Grid.Column="0" VerticalAlignment="Center">h_e (孔口高程 m)</TextBlock>
                        <TextBox x:Name="A03he" Grid.Row="3" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="4" Grid.Column="0" VerticalAlignment="Center">h_c (胸墙底圆弧半径或基准 m)</TextBlock>
                        <TextBox x:Name="A03hc" Grid.Row="4" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="5" Grid.Column="0" VerticalAlignment="Center">ε_c (侧收缩系数)</TextBlock>
                        <TextBox x:Name="A03epsilonC" Grid.Row="5" Grid.Column="1" Margin="4" />

                        <TextBlock Grid.Row="6" Grid.Column="0" VerticalAlignment="Center">φ (孔流流速系数，0.95~1.0)</TextBlock>
                        <TextBox x:Name="A03phi" Grid.Row="6" Grid.Column="1" Margin="4" Text="0.97" />

                        <TextBlock Grid.Row="7" Grid.Column="0" VerticalAlignment="Center">g (重力加速度，默认9.81)</TextBlock>
                        <TextBox x:Name="A03g" Grid.Row="7" Grid.Column="1" Margin="4" Text="9.81" />
                        <Button Grid.Row="7" Grid.Column="2" Content="计算" Margin="4" Click="OnCalcA03" />
                        <TextBlock Grid.Row="7" Grid.Column="3" Margin="4" TextWrapping="Wrap" x:Name="A03Result" />
                    </Grid>
                            <Border Grid.Column="1" Margin="12 0 0 0" BorderThickness="1" BorderBrush="#DDD" Padding="6">
                                <StackPanel>
                                    <TextBlock Text="A.0.3 计算简图" FontWeight="SemiBold" Margin="0 0 0 4" />
                                    <Image x:Name="A03Img" Stretch="Uniform" MaxHeight="260" RenderTransformOrigin="0.5,0.5">
                                        <Image.RenderTransform>
                                            <ScaleTransform x:Name="A03ScaleTransform" ScaleX="1" ScaleY="1" />
                                        </Image.RenderTransform>
                                    </Image>
                                    <StackPanel Orientation="Horizontal" Margin="0 6 0 0" VerticalAlignment="Center">
                                        <TextBlock Text="缩放" Margin="0 0 6 0" VerticalAlignment="Center" />
                                        <Slider x:Name="A03ScaleSlider" Minimum="0.5" Maximum="2" Value="1" Width="120" ValueChanged="OnScaleChanged" Tag="A03" />
                                    </StackPanel>
                                    <TextBlock FontSize="12" Foreground="#666" TextWrapping="Wrap" Margin="0 4 0 0" Text="若未显示，请确认 Assets/A03.png 绝对路径存在" />
                                </StackPanel>
                            </Border>
                        </Grid>
                    </DockPanel>
                </TabItem>
            </TabControl>
        </DockPanel>
    </ScrollViewer>
</Window>
